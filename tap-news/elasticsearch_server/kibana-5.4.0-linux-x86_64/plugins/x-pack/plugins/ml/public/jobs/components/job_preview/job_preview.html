<div ng-controller='JobPreviewController'>
  <!-- <h4>{{job.job_id}}</h4> -->
  <div>
    <ml-job-item ng-repeat="(key, value) in job">
      <div ng-switch="key">
        <span ng-switch-when="counts">
          <!-- do nothing yet -->
        </span>
        <span ng-switch-when="model_size_stats">
          <!-- do nothing yet -->
        </span>
        <div ng-switch-when="analysis_config">
          <ml-job-item ng-repeat="(key1, value1) in value">
            <div ng-switch="key1">
              <span ng-switch-when="detectors">
                <!-- do nothing yet -->
              </span>
              <span ng-switch-when="influencers">
                <!-- do nothing yet -->
              </span>
              <div ng-switch-default>
                <div class="ml_job_row">
                  <div class="ml_job_item_key">{{key1}}</div>
                  <div class="ml_job_item_value">{{value1}}</div>
                </div>
              </div>
            </div>
          </ml-job-item>
          <ml-job-item ng-repeat="(key1, value1) in value">
            <div ng-switch="key1">
              <div ng-switch-when="detectors">
                <div>Detectors:</div>
                <div class="ml_job_detector_list">
                  <ml-job-item ng-repeat="(key2, value2) in value1">
                    <div class="ml_job_row">
                      <ml-job-item ng-repeat="(key3, value3) in value2">
                        <div class="ml_job_item_key">{{key3}}</div>
                        <div class="ml_job_item_value">{{value3}}</div>
                      </ml-job-item>
                    </div>
                  </ml-job-item>
                </div>
              </div>
              <div ng-switch-when="influencers">
                <div class="ml_job_row">
                  <div class="ml_job_item_key">Influencers:</div>
                  <div class="ml_job_item_value">
                    <ml-job-item ng-repeat="value2 in value1">
                      <!-- <div>{{value2}}</div> -->
                      {{value2}},
                    </ml-job-item>
                  </div>
                </div>
              </div>
            </div>
          </ml-job-item>
        </div>
        <div ng-switch-when="data_description">
          <ml-job-item ng-repeat="(key1, value1) in value">
            <div class="ml_job_row">
              <div class="ml_job_item_key">{{key1}}</div>
              <div class="ml_job_item_value">{{value1}}</div>
            </div>
          </ml-job-item>
        </div>
        <div ng-switch-when="counts">
          <div>Counts:</div>
          <ml-job-item ng-repeat="(key1, value1) in value">
            <div class="ml_job_row">
              <div class="ml_job_item_key">{{key1}}</div>
              <div class="ml_job_item_value">{{value1}}</div>
            </div>
          </ml-job-item>
        </div>
        <div ng-switch-when="model_size_stats">
          <div>Model size stats:</div>
          <ml-job-item ng-repeat="(key1, value1) in value">
            <div class="ml_job_row">
              <div class="ml_job_item_key">{{key1}}</div>
              <div class="ml_job_item_value">{{value1}}</div>
            </div>
          </ml-job-item>
        </div>
        <div ng-switch-default>
          <div class="ml_job_row">
            <div class="ml_job_item_key">{{key}}</div>
            <div class="ml_job_item_value">{{value}}</div>
          </div>
        </div>
      </div>
    </ml-job-item>
  </div>
</div>
