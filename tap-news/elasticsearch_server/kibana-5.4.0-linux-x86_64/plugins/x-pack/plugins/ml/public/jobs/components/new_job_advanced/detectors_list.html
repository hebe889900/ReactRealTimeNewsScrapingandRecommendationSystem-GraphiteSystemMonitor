<div>
  <div class="form-group">
    <div ng-repeat="detector in detectors track by $index">
      <div class="detector" ng-class="{'detector-edit-mode':(editMode==='EDIT')}">
        <div class="detector-fields">
          <div aria-label="Customised description" ng-hide="editMode==='EDIT' || detector.detector_description === '' || detector.detector_description === detectorToString(detector) ">{{ detector.detector_description }}</div>
          <div aria-label="Default description" style="font-style:italic;" >{{ detectorToString(detector) }}</div>

          <input
            ng-show="editMode==='EDIT'"
            ng-model="detector.detector_description"
            tabindex="2"
            class="form-control" />

        </div>

        <div class="button-container" ng-show="editMode==='NEW'">
          <button
            ng-click="editDetector($index)"
            aria-label="Edit"
            class="btn btn-xs btn-default"
            data-toggle="tooltip"
            tooltip="Edit Detector">
              <i aria-hidden="true" class="fa fa-pencil"></i>
          </button>

          <button
            aria-label="Remove Detector"
            ng-click="removeDetector($index)"
            tooltip-append-to-body="true"
            type="button"
            class="btn btn-xs btn-danger remove-button">
              <i aria-hidden="true" class="fa fa-trash"></i>
          </button>
        </div>


<!--
        <div ng-show="detector.detector_rules.length > 0" class="filter-list">
          <div>Filters:</div>
          <div ng-repeat="filter in detector.detector_rules track by $index" class="filter">
            {{ filter.ruleAction }} ({{filter.ruleConditions.length}} condition{{(filter.ruleConditions.length>1)?"s":""}})
            <div class="button-container">
              <button
                ng-click="editFilter(detector, $index)"
                aria-label="Edit"
                class="btn btn-xs btn-default"
                data-toggle="tooltip"
                tooltip="Edit Filter">
                  <i aria-hidden="true" class="fa fa-pencil"></i>
              </button>
              <button
                aria-label="Remove Filter"
                ng-click="removeFilter(detector, $index)"
                tooltip-append-to-body="true"
                type="button"
                class="btn btn-xs btn-danger remove-button">
                  <i aria-hidden="true" class="fa fa-trash"></i>
              </button>
            </div>
          </div>
        </div>

        <div ng-show="editMode==='NEW'">
          <button
            aria-label="Add Filter"
            ng-click="openFilterWindow(detector)"
            type="button"
            class="btn btn-primary btn-xs">
              <span class="sr-only">Add Filter</span>
              <i aria-hidden="true" class="fa fa-plus"></i> Add Filter
          </button>
        </div>
-->
      </div>

    </div>

    <div ng-show="editMode==='NEW'">
      <button
        aria-label="Add Detector"
        ng-click="openNewWindow()"
        type="button"
        class="btn btn-primary btn-xs">
          <span class="sr-only">Add Detector</span>
          <i aria-hidden="true" class="fa fa-plus"></i> Add Detector
      </button>
    </div>
  </div>

</div>
